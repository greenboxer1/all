drop table if exists product_type  cascade;
drop table if exists material_type  cascade;
drop table if exists product  cascade;
drop table if exists workshops  cascade;
drop table if exists product_workshops  cascade;

create table product_type(
product_type_id serial primary key,
product_type_name TEXT,
product_type_coefecent NUMERIC(3,2)
);
create table material_type(
material_type_id serial primary key,
material_type_name TEXT,
material_type_procent numeric(3,2)
);

create table product(
product_id serial primary key,
product_type_name_product_id INT,
foreign key (product_type_name_product_id) references product_type(product_type_id),
product_name TEXT,
product_articl INT,
product_min_sum NUMERIC(8,2),
product_material_id INT,
foreign key (product_material_id) references material_type(material_type_id)
);

create table workshops(
workshops_id serial primary key,
workshops_name TEXT,
workshops_cex TEXT,
workshops_people_count int
);

create table product_workshops(
product_workshops_id serial primary key,
product_workshops_name_prod_id INT,
foreign key (product_workshops_name_prod_id) references product(product_id),
product_workshops_name_cex_id INT,
foreign key (product_workshops_name_cex_id) references workshops(workshops_id),
product_workshops NUMERIC(3,2)
);

insert into product_type(product_type_name, product_type_coefecent)values
('Гостиные',3.5),
('Прихожие',5.6),
('Мягкая мебель',3),
('Кровати',4.7),
('Шкафы',1.5),
('Комоды',2.3);

insert into material_type(material_type_name, material_type_procent)values
('Мебельный щит из массива дерева',0.80),
('Ламинированное ДСП',0.70),
('Фанера',0.55),
('МДФ',0.30);

insert into product(product_type_name_product_id, product_name, product_articl, product_min_sum, product_material_id)values
(1,'Комплект мебели для гостиной Ольха горная',1549922,160507.00,1),
(1,'Стенка для гостиной Вишня темная',1018556,216907.00,1),
(2,'Прихожая Венге Винтаж',3028272,24970.00,2),
(2,'Тумба с вешалкой Дуб натуральный',3029272,18206.00,2),
(2,'Прихожая-комплект Дуб темный',3028248,177509.00,1),
(3,'Диван-кровать угловой Книжка',7118827,85900.00,1),
(3,'Диван модульный Телескоп',7137981,75900.00,1),
(3,'Диван-кровать Соло',7029787,120345.00,1),
(3,'Детский диван Выкатной',7758953,25990.00,3),
(4,'Кровать с подъемным механизмом с матрасом 1600х2000 Венге',6026662,69500.00,1),
(4,'Кровать с матрасом 90х2000 Венге',6159043,55600.00,2),
(4,'Кровать универсальная Дуб натуральный',6588376,37900.00,2),
(4,'Кровать с ящиками Ясень белый',6758375,46750.00,3),
(5,'Шкаф-купе 3-х дверный Сосна белая',2759324,131560.00,2),
(5,'Стеллаж Бук натуральный',2118827,38700.00,1),
(5,'Шкаф 4 дверный с ящиками Ясень серый',2559898,160151.00,3),
(5,'Шкаф-пенал Береза белый',2259474,40500.00,3),
(6,'Комод 6 ящиков Вишня светлая',4115947,61235.00,1),
(6,'Комод 4 ящика Вишня светлая',4033136,41200.00,1),
(6,'Тумба под ТВ ',4028048,12350.00,4);


insert into workshops(workshops_name, workshops_cex, workshops_people_count)values
('Проектный','Проектирование',4),
('Расчетный','Проектирование',5),
('Раскроя','Обработка',5),
('Обработки','Обработка',6),
('Сушильный','Сушка',3),
('Покраски','Обработка',5),
('Столярный','Обработка',7),
('Изготовления изделий из искусственного камня и композитных материалов','Обработка',3),
('Изготовления мягкой мебели','Обработка',5),
('Монтажа стеклянных, зеркальных вставок и других изделий','Сборка',2),
('Сборки','Сборка',6),
('Упаковки','Сборка',4);

insert into product_workshops(product_workshops_name_prod_id, product_workshops_name_cex_id, product_workshops)values
(10,8,2.0),
(20,8,2.7),
(6,9,4.2),
(7,9,4.5),
(8,9,4.7),
(9,9,4.0),
(11,9,5.5),
(2,10,0.3),
(3,10,0.5),
(5,10,0.3),
(10,10,0.5),
(14,10,0.5),
(20,10,1.0),
(1,4,0.5),
(2,4,0.3),
(3,4,0.5),
(4,4,0.5),
(5,4,0.5),
(6,4,0.5),
(7,4,0.5),
(8,4,0.5),
(9,4,0.3),
(10,4,0.6),
(11,4,1.0),
(12,4,0.8),
(13,4,2.0),
(14,4,0.5),
(15,4,0.3),
(16,4,1.5),
(17,4,1.0),
(18,4,0.5),
(19,4,0.4),
(20,4,0.5),
(1,6,0.3),
(2,6,0.4),
(5,6,0.5),
(6,6,0.5),
(7,6,1.0),
(8,6,0.5),
(9,6,0.5),
(10,6,0.4),
(13,6,1.5),
(15,6,1.0),
(17,6,2.5),
(18,6,1.0),
(19,6,0.4),
(20,6,0.5),
(1,1,1.0),
(2,1,1.0),
(5,1,1.5),
(8,1,0.5),
(14,1,2.0),
(15,1,1.0),
(20,1,1.0),
(1,3,1.0),
(2,3,1.0),
(3,3,1.0),
(4,3,1.0),
(5,3,1.0),
(6,3,1.0),
(7,3,1.0),
(8,3,0.5),
(9,3,0.7),
(10,3,1.0),
(11,3,1.0),
(12,3,1.1),
(13,3,2.0),
(14,3,1.0),
(15,3,1.0),
(16,3,1.0),
(17,3,1.0),
(18,3,1.0),
(19,3,1.0),
(20,3,0.6),
(1,2,0.4),
(2,2,1.0),
(5,2,0.5),
(8,2,0.5),
(14,2,1.0),
(15,2,0.7),
(20,2,0.4),
(2,11,1.0),
(3,11,1.0),
(5,11,0.5),
(6,11,0.5),
(7,11,0.3),
(12,11,0.8),
(13,11,0.3),
(14,11,1.5),
(15,11,0.3),
(16,11,2.0),
(18,11,0.3),
(20,11,1.0),
(1,7,1.5),
(2,7,1.0),
(5,7,1.0),
(7,7,0.5),
(8,7,0.5),
(9,7,1.0),
(15,7,0.5),
(16,7,1.0),
(17,7,3.0),
(18,7,2.0),
(19,7,2.0),
(1,5,2.0),
(2,5,2.0),
(5,5,2.0),
(6,5,2.0),
(7,5,2.0),
(15,5,2.0),
(18,5,2.0),
(19,5,2.0),
(1,12,0.3),
(4,12,0.5),
(5,12,0.2),
(6,12,0.3),
(7,12,0.2),
(8,12,0.3),
(9,12,0.5),
(10,12,0.5),
(11,12,0.5),
(12,12,0.3),
(13,12,0.2),
(14,12,0.5),
(15,12,0.2),
(16,12,0.5),
(17,12,0.5),
(18,12,0.2),
(19,12,0.2),
(20,12,0.3);